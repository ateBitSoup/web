/* css/style.css */

:root {
    --wca-blue: #127db7;
    --wca-green: #8dcb8c;
    --wca-text-dark: #333333;
    --wca-accent-red: #e74c3c;
    --wca-button-blue: #3498db;
    --wca-button-blue-hover: #2980b9;
    --wca-button-green: #2ecc71;
    --wca-button-green-hover: #27ae60;

    /* Seasonal & Holiday Base Variables (can be overridden by themes) */
    --page-bg-color: #f0f8ff; /* AliceBlue default */
    --container-bg-color: #fff;
    --container-border-color: var(--wca-blue);
    --header-text-color: var(--wca-green); /* For "Joke Time!" */
    --joke-setup-color: #2c3e50;
    --joke-punchline-color: var(--wca-accent-red);
    --font-family-main: 'Comic Sans MS', 'Chalkboard SE', 'Arial Rounded MT Bold', sans-serif;
    --fun-day-bg: rgba(255, 255, 224, 0.8); /* Light yellow, slightly more opaque */
    --fun-day-text: #856404; /* Dark yellow/brown text */
    --fun-day-border: #ffeeba;
    --logo-text-world-compass-color: #333333; /* Default for WORLD COMPASS */
    --logo-text-academy-color: var(--wca-green); /* Default for Academy */
    --logo-swoosh-color: #007ABF; /* Default blue for swoosh */
    --logo-sprout-color: #8BC34A; /* Default green for sprout */
}

body {
    font-family: var(--font-family-main);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    margin: 0;
    background-color: var(--page-bg-color);
    color: var(--wca-text-dark);
    text-align: center;
    overflow: hidden; /* For falling items */
    position: relative; /* For falling items */
    transition: background-color 0.5s ease, color 0.5s ease;
    -webkit-tap-highlight-color: transparent;
}

#joke-area {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    padding: 10px;
    width: 95%;
    max-width: 750px;
}

#fun-day-notification {
    background-color: var(--fun-day-bg);
    color: var(--fun-day-text);
    border: 1px dashed var(--fun-day-border);
    padding: 8px 15px;
    border-radius: 8px;
    font-size: 0.9em;
    margin-bottom: 10px;
    display: none; /* Hidden by default */
    width: fit-content;
    max-width: 90%;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
#fun-day-notification strong {
    font-weight: bold;
}

#joke-container {
    background-color: var(--container-bg-color);
    padding: 20px 30px;
    border-radius: 15px;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    width: 100%;
    min-height: 220px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    border: 5px solid var(--container-border-color);
    transition: background-color 0.5s ease, border-color 0.5s ease;
}
#logo-container {
    width: 300px;
    max-width: 80%;
    height: auto;
    margin: 0 auto 10px auto;
}
#logo-container svg {
    width: 100%;
    height: 100%;
    display: block;
}
/* Blue Swoosh */
#logo-container svg path[stroke="#007ABF"] {
    stroke: var(--logo-swoosh-color) !important;
}
/* Sprout Stem */
#logo-container svg path[fill="#6A4028"] {
    fill: var(--logo-sprout-stem-color, #6A4028) !important; /* Added a new variable with fallback */
}

/* Leaves */
#logo-container svg path[fill="#8BC34A"],
#logo-container svg path[fill="#AED581"],
#logo-container svg path[fill="#9CCC65"] {
    fill: var(--logo-sprout-color) !important;
}

/* "WORLD" and "COMPASS" Text */
#logo-container svg text[fill="#333333"][font-family*="Arial"] { /* Targeting by fill and part of font-family */
    fill: var(--logo-text-world-compass-color) !important;
}

/* "Academy" Text */
#logo-container svg text[fill="#8BC34A"][font-family*="Comic Sans MS"] { /* Targeting by fill and part of font-family */
    fill: var(--logo-text-academy-color) !important;
}


#school-name { /* This is "Joke Time!" */
    font-size: 1.8em;
    color: var(--header-text-color);
    margin-bottom: 15px;
    font-weight: bold;
    transition: color 0.5s ease;
}

#joke-display {
    width: 100%;
    margin-bottom: 20px;
}
#joke-setup-text {
    font-size: 1.7em;
    margin-bottom: 15px;
    min-height: 50px;
    color: var(--joke-setup-color);
    line-height: 1.4;
    transition: color 0.5s ease;
}
.translation {
    display: block;
    font-size: 0.8em;
    color: #555;
    font-style: italic;
    margin-top: 5px;
}
#joke-punchline-text {
    font-size: 1.8em;
    font-weight: bold;
    margin-top: 10px;
    min-height: 50px;
    color: var(--joke-punchline-color);
    line-height: 1.4;
    transition: color 0.5s ease;
}

.button-container {
    display: flex;
    gap: 15px;
    justify-content: center;
    flex-wrap: wrap;
}
.joke-button {
    background-color: var(--wca-button-blue);
    color: white;
    border: none;
    padding: 12px 25px;
    font-size: 1.1em;
    border-radius: 10px;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.1s ease, opacity 0.3s ease;
    box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);
    user-select: none;
}
.joke-button:hover { background-color: var(--wca-button-blue-hover); }
.joke-button:active { transform: translateY(2px); }
.joke-button:disabled { background-color: #bdc3c7; cursor: not-allowed; }

#reveal-punchline-button { background-color: var(--wca-button-green); }
#reveal-punchline-button:hover { background-color: var(--wca-button-green-hover); }

#static-svg-display {
    width: 100px;
    height: 100px;
    border: none;
    padding: 5px;
    display: flex;
    align-items: center;
    justify-content: center;
}
#static-svg-display svg {
    width: 100%;
    height: 100%;
}

.falling-item {
    position: absolute;
    animation: fall 5s linear forwards, fadeOut 5s linear forwards;
    user-select: none;
    pointer-events: none;
    z-index: -1;
    display: flex;
    align-items: center;
    justify-content: center;
}
.falling-item svg {
    width: 100%;
    height: 100%;
    display: block;
}
@keyframes fall {
    0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
    100% { transform: translateY(110vh) rotate(720deg); opacity: 1; }
}
@keyframes fadeOut {
    0% { opacity: 1; }
    80% { opacity: 1; }
    100% { opacity: 0; }
}

/* --- SEASONAL THEMES --- */
.spring-theme {
    --page-bg-color: #e6ffe6;
    --container-border-color: #4CAF50;
    --header-text-color: #2E8B57; /* For "Joke Time!" */
    --logo-sprout-color: #4CAF50;
    --logo-text-academy-color: #2E8B57;
}

.summer-theme {
    --page-bg-color: #fffacd;
    --container-border-color: #FFD700;
    --header-text-color: #FF8C00;
    --logo-swoosh-color: #FFC107;
    --logo-sprout-color: #FFEB3B;
    --logo-text-academy-color: #FFA000;
}

.fall-theme {
    --page-bg-color: #fff0e1;
    --container-border-color: #D2691E;
    --header-text-color: #FF7F50;
    --joke-punchline-color: #B22222;
    --logo-swoosh-color: #FF7043;
    --logo-sprout-color: #FF8A65;
    --logo-text-academy-color: #D2691E;
}
.fall-theme.halloween-active {
    --container-border-color: #FF8C00; /* Orange for Halloween */
    --header-text-color: #E65100; /* Darker Orange */
    --fun-day-bg: #424242; /* Darker for spooky */
    --fun-day-text: #FF9800; /* Orange text */
    --fun-day-border: #FF9800;
    --logo-swoosh-color: #FFB74D;
    --logo-sprout-color: #FB8C00;
    --logo-text-academy-color: #E65100;
}

.winter-theme {
    --page-bg-color: #e0f7fa;
    --container-border-color: #87CEEB;
    --header-text-color: #008080;
    --joke-punchline-color: #4682B4;
    --logo-swoosh-color: #4FC3F7;
    --logo-sprout-color: #B3E5FC; /* Light frosty blue for sprout */
    --logo-text-academy-color: #0097A7;
}
/* --- FEDERAL HOLIDAY THEMES (Full Page Overrides) --- */
/* New Year's Theme*/
.new-years-theme {
    --page-bg-color: #1a1a2e;
    --container-bg-color: #2a2a3e;
    --container-border-color: #FFD700; /* Gold */
    --header-text-color: #FFF;
    --joke-setup-color: #E0E0E0;
    --joke-punchline-color: #FFD700;
    --font-family-main: 'Georgia', 'Times New Roman', serif;
    --fun-day-bg: #FFD700;
    --fun-day-text: #1a1a2e;
    --fun-day-border: #1a1a2e;
    --logo-text-world-compass-color: #fafafa;
    --logo-text-academy-color: #FFD700;
    --logo-swoosh-color: #FFF59D;
    --logo-sprout-color: #FFF9C4;
}

/* Martin Luther King Jr. Day Theme */
.mlk-theme {
    --page-bg-color: #f5f5f5; /* Light, hopeful gray */
    --container-bg-color: #ffffff;
    --container-border-color: #333333; /* Strong black/dark gray for respect */
    --header-text-color: #000000;   /* Black */
    --joke-setup-color: #2c3e50;
    --joke-punchline-color: var(--wca-accent-red); /* Keep punchline distinct */
    --font-family-main: 'Helvetica Neue', Helvetica, Arial, sans-serif; /* Clean, modern, respectful */
    --fun-day-bg: #e0e0e0;
    --fun-day-text: #333333;
    --fun-day-border: #cccccc;
    --logo-text-world-compass-color: #000000;
    --logo-text-academy-color: #4CAF50; /* A hopeful green */
    --logo-swoosh-color: #757575; /* Neutral gray */
    --logo-sprout-color: #A5D6A7; /* Lighter, hopeful green */
}

/* Presidents' Day / Washington's Birthday Theme */
.presidents-day-theme {
    --page-bg-color: #e3f2fd; /* Light blue, reminiscent of sky/flag */
    --container-bg-color: #ffffff;
    --container-border-color: #B22222; /* Deep Red */
    --header-text-color: #0D47A1;   /* Navy Blue */
    --joke-setup-color: #2c3e50;
    --joke-punchline-color: #D32F2F; /* Slightly brighter red for punchline */
    --font-family-main: 'Times New Roman', Times, serif; /* Traditional, formal */
    --logo-swoosh-color: #0D47A1; /* Navy */
    --logo-sprout-color: #FFFFFF; /* White */
    --logo-text-world-compass-color: #0D47A1; /* Navy */
    --logo-text-academy-color: #B22222; /* Red */
}

/* Memorial Day Theme*/
.memorial-day-theme {
    --page-bg-color: #e9ecef; /* Light gray, slightly somber */
    --container-bg-color: #ffffff;
    --container-border-color: #002868; /* Dark Navy Blue */
    --header-text-color: #333333;   /* Dark Gray */
    --joke-setup-color: #4F4F4F;
    --joke-punchline-color: #BF0A30; /* Deep Red */
    --font-family-main: 'Georgia', serif;
    --logo-swoosh-color: #6c757d; /* Muted blue/gray */
    --logo-sprout-color: #f8f9fa; /* Off-white */
    --logo-text-world-compass-color: #343a40; /* Dark gray */
    --logo-text-academy-color: #BF0A30; /* Deep Red */
}

/* Juneteenth National Independence Day Theme */
.juneteenth-theme {
    --page-bg-color: #fef9e7; /* Warm off-white, celebratory */
    --container-bg-color: #fff;
    --container-border-color: #E4002B; /* Juneteenth Red */
    --header-text-color: #007A33;   /* Juneteenth Green */
    --joke-setup-color: #2c3e50;
    --joke-punchline-color: #000000; /* Black, for strong contrast */
    --font-family-main: 'Arial Black', Gadget, sans-serif; /* Bold, impactful */
    --fun-day-bg: #FFF2CC;
    --fun-day-text: #004D20;
    --fun-day-border: #007A33;
    --logo-swoosh-color: #007A33; /* Green */
    --logo-sprout-color: #E4002B; /* Red */
    --logo-text-world-compass-color: #000000; /* Black */
    --logo-text-academy-color: #007A33; /* Green */
}

/* Independence Day Theme (July 4th - Festive Patriotism) */
.independence-day-theme {
    --page-bg-color: #e3f2fd; /* Light sky blue */
    --container-bg-color: #ffffff;
    --container-border-color: #BF0A30; /* Strong Red */
    --header-text-color: #002868;   /* Navy Blue */
    --joke-setup-color: #1E3A5F; /* Darker blue for text */
    --joke-punchline-color: #D92E2E; /* Bright Red */
    --font-family-main: 'Arial', sans-serif; /* Clean and clear */
    --fun-day-bg: #FFEBCD; /* Blanched Almond for contrast */
    --fun-day-text: #002868;
    --fun-day-border: #BF0A30;
    --logo-swoosh-color: #002868;        /* Navy Blue */
    --logo-sprout-color: #FFFFFF;        /* White */
    --logo-text-world-compass-color: #002868; /* Navy */
    --logo-text-academy-color: #BF0A30;  /* Red */
}
/* Example of specific element styling for Independence Day */
.independence-day-theme #logo-container svg path[fill="#6A4028"] { /* Sprout Stem */
    fill: #002868 !important; /* Make stem blue for this theme */
}

/* Labor Day Theme*/
.labor-day-theme {
    --page-bg-color: #eef2f7; /* Light industrial blue/gray */
    --container-bg-color: #ffffff;
    --container-border-color: #004080; /* Strong, dependable blue */
    --header-text-color: #002040;   /* Darker blue for heading */
    --joke-setup-color: #334E68;
    --joke-punchline-color: var(--wca-accent-red);
    --font-family-main: 'Roboto', sans-serif; /* Modern, clean */
    --logo-swoosh-color: #4A6B8A;
    --logo-sprout-color: #B0BEC5;
    --logo-text-world-compass-color: #002040;
    --logo-text-academy-color: #004080;
}

/* Indigenous Peoples' Day Theme */
.indigenous-peoples-day-theme {
    --page-bg-color: #f5e1c8; /* Earthy tan */
    --container-border-color: #5c3d23; /* Dark earth brown */
    --header-text-color: #8a5a44; /* Terracotta*/
    --joke-punchline-color: #c06c3a; /* Burnt orange */
    --font-family-main: 'Arial', sans-serif;
    --logo-swoosh-color: #78726A; /* Stone gray */
    --logo-sprout-color: #8FBC8F; /* Dark Sea Green */
    --logo-text-academy-color: #8a5a44;
}


/* Veterans Day Theme */
.veterans-day-theme {
    --page-bg-color: #f0f4f8; /* Slightly cleaner light blue/gray */
    --container-bg-color: #ffffff;
    --container-border-color: #003366; /* Stern Navy Blue */
    --header-text-color: #222222;   /* Dark Gray, serious tone */
    --joke-setup-color: #4A4A4A;
    --joke-punchline-color: #CC0000; /* Strong Red */
    --font-family-main: 'Arial', sans-serif; /* Clear, respectful */
    --logo-swoosh-color: #003366;
    --logo-sprout-color: #DCDCDC; /* Light Gray */
    --logo-text-world-compass-color: #003366;
    --logo-text-academy-color: #CC0000;
}

/* Thanksgiving Theme */
.thanksgiving-theme {
    --page-bg-color: #fdf5e6;
    --container-border-color: #A0522D;
    --header-text-color: #D2691E;
    --font-family-main: 'Georgia', serif;
    --joke-punchline-color: #8B4513;
    --logo-swoosh-color: #FF8F00;
    --logo-sprout-color: #FFB74D;
    --logo-text-academy-color: #D2691E;
}

/* Christmas Theme */
.christmas-theme {
    --page-bg-color: #e8f5e9;
    --container-bg-color: #fff;
    --container-border-color: #c62828; /* Red */
    --header-text-color: #2e7d32; /* Green */
    --joke-punchline-color: #c62828; /* Red */
    --logo-swoosh-color: #c62828;
    --logo-sprout-color: #388E3C;
    --logo-text-academy-color: #2e7d32;
}


/* Common Non-Federal Holiday Active States (applied on top of seasonal or default) */
/* These primarily affect the Fun Day notification or can add subtle tweaks */
.valentines-day-active {
    --fun-day-bg: #ffe4e1; /* Misty Rose */
    --fun-day-text: #d13049;
    --fun-day-border: #ffb6c1;
}
.st-patricks-day-active {
    --fun-day-bg: #d4efdf;
    --fun-day-text: #196f3d;
    --fun-day-border: #7dcea0;
}
.good-friday-active {
    /* Subtle, respectful styling if any */
    --fun-day-bg: #f2f2f2;
    --fun-day-text: #555;
    --fun-day-border: #ccc;
}
.mardi-gras-active {
    --fun-day-bg: #f7dc6f; /* Goldish */
    --fun-day-text: #6c3483; /* Purple */
    --fun-day-border: #2ecc71; /* Green */
}
.cinco-de-mayo-active {
    --fun-day-bg: #e8f8f5; /* Light teal */
    --fun-day-text: #0e6655;
    --fun-day-border: #76d7c4;
}
.flag-day-active {
    --fun-day-bg: #e9ecef;
    --fun-day-text: #002868; /* Navy */
    --fun-day-border: #BF0A30; /* Red */
}

/* --- Media Queries --- */
@media (max-width: 768px) {
    #joke-area {
        gap: 10px;
    }
    #joke-container {
        padding: 15px 20px;
    }
    #logo-container {
        width: 200px;
    }
    #school-name { font-size: 1.5em; }
    #joke-setup-text { font-size: 1.4em; }
    #joke-punchline-text { font-size: 1.5em; }
    .joke-button { font-size: 1em; padding: 10px 18px; }
    #static-svg-display { width: 70px; height: 70px; }
}
@media (max-width: 480px) {
    #logo-container {
        width: 150px;
    }
    #school-name { font-size: 1.3em; }
    #joke-setup-text { font-size: 1.2em; }
    #joke-punchline-text { font-size: 1.3em; }
}